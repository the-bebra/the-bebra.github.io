<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Schedule JSON</title>
  <script>
    async function loadSchedule() {
      const formData = new FormData();
      formData.append("eduform", "7");
      formData.append("course", "1");
      formData.append("intervalMode", "3");
      formData.append("menuMode", "flow");
      formData.append("flow", "569_1");

      try {
        const response = await fetch("https://raspis.rggu.ru/api/Get_Schedule_Table", {
          method: "POST",
          body: formData
        });

        const json = await response.json();
        // Replace the entire page with pretty-printed JSON
        document.open();
        document.write("<pre>" + JSON.stringify(json, null, 2) + "</pre>");
        document.close();
      } catch (err) {
        document.body.textContent = "Error: " + err;
      }
    }

    window.addEventListener("DOMContentLoaded", loadSchedule);
  </script>
</head>
<body>
  <p>Loadingâ€¦</p>
</body>
</html>
